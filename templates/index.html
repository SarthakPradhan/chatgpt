<!DOCTYPE html>
<html>
<head>
	<title>ChatGPT</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		function speechFunction() {
			$('#response_text1').text("Listening...");
			$('#response_audio').attr('src', '');
			$.post('/speech_function', function(data) {
				$('#response_text1').text(data.text);
				$('#response_audio').attr('src', 'data:audio/mpeg;base64,' + data.audio);
			});
		}

		function textFunction() {
			var input_text = $('#input_text').val();
			$.post('/text_function', {input_text: input_text}, function(data) {
				$('#response_text2').text(data.text);
				$('#response_audio').attr('src', 'data:audio/mpeg;base64,' + data.audio);
			});
		}
	</script>
</head>
<body>
	<h1>ChatGPT</h1>
	<h2>Speech Input</h2>
	<button onclick="speechFunction()">Speak</button>
	<p>Response:</p>
	<p id="response_text1"></p>
	<audio id="response_audio" controls autoplay></audio>

	<h2>Text Input</h2>
	<input type="text" id="input_text">
	<button onclick="textFunction()">Send</button>
	<p>Response:</p>
	<p id="response_text2"></p>
</body>
</html>
